[2025-11-14 10:51:45] INFO     Log file opened: /opt/proxmox-backup-go/log-test/backup-pbs1.tis24.it-20251114-105145.log
[2025-11-14 10:51:45] INFO     DRY RUN MODE: No actual changes will be made (enabled via DRY_RUN config)
[2025-11-14 10:51:45] INFO     Environment: pbs 3.4.6
[2025-11-14 10:51:45] INFO     Backup enabled: true
[2025-11-14 10:51:45] INFO     Debug level: DEBUG
[2025-11-14 10:51:45] INFO     Compression: xz (level 9, mode ultra)
[2025-11-14 10:51:45] INFO     Base directory: /opt/proxmox-backup-go (auto-detected from executable path)
[2025-11-14 10:51:45] INFO     Configuration file: ./configs/backup.env (default path)
[2025-11-14 10:51:45] DEBUG    Identity: detected 1 MAC addresses (primary: bc:24:11:41:0d:18)
[2025-11-14 10:51:45] DEBUG    Identity: loaded existing server ID 1173879437561689 from /opt/proxmox-backup-go/identity/.server_identity
[2025-11-14 10:51:45] INFO     Server ID: 1173879437561689
[2025-11-14 10:51:45] INFO     Server MAC Address: bc:24:11:41:0d:18
[2025-11-14 10:51:45] DEBUG    Contacting remote Telegram server...
[2025-11-14 10:51:45] DEBUG    Remote server contacted: Bot token / chat ID verified (handshake)
[2025-11-14 10:51:45] INFO     Server Telegram: 200 - Registration active
[2025-11-14 10:51:45] INFO     Running security preflight checks...
[2025-11-14 10:51:45] DEBUG    Security options: auto_fix=true, auto_update_hashes=true, continue_on_issues=false, check_network=false, firewall=false, open_ports=false, suspicious_processes=7, safe_bracket=5
[2025-11-14 10:51:45] INFO     Checking dependencies...
[2025-11-14 10:51:45] DEBUG    Dependency tar: present (tar at /usr/bin/tar) - required for archive verification and bundle handling
[2025-11-14 10:51:45] DEBUG    Dependency xz: present (xz at /usr/bin/xz) - compression type set to xz
[2025-11-14 10:51:45] DEBUG    Dependency sendmail: present (sendmail at /usr/sbin/sendmail) - email relay fallback to sendmail enabled
[2025-11-14 10:51:45] DEBUG    Dependency ceph: missing (optional) - Ceph configuration collection enabled
[2025-11-14 10:51:45] DEBUG    Dependency zpool: present (zpool at /usr/sbin/zpool) - ZFS configuration collection enabled
[2025-11-14 10:51:45] DEBUG    Dependency zfs: present (zfs at /usr/sbin/zfs) - ZFS configuration collection enabled
[2025-11-14 10:51:45] DEBUG    Dependency proxmox-backup-manager: present (proxmox-backup-manager at /usr/sbin/proxmox-backup-manager) - PBS management CLI
[2025-11-14 10:51:45] DEBUG    Dependency proxmox-tape: present (proxmox-tape at /usr/bin/proxmox-tape) - PBS tape configuration collection enabled
[2025-11-14 10:51:45] INFO     Dependencies check completed: all required dependencies available (optional missing: ceph)
[2025-11-14 10:51:45] WARNING  Optional dependency ceph missing: Ceph configuration collection enabled
[2025-11-14 10:51:46] WARNING  Security warning: incorrect permissions on /opt/proxmox-backup-go/build/proxmox-backup (current 755, expected 700)
[2025-11-14 10:51:46] INFO     Adjusted permissions on /opt/proxmox-backup-go/build/proxmox-backup to 700
[2025-11-14 10:51:46] WARNING  Security warning: executable hash mismatch for /opt/proxmox-backup-go/build/proxmox-backup
[2025-11-14 10:51:46] INFO     Regenerated hash file: /opt/proxmox-backup-go/build/proxmox-backup.md5
[2025-11-14 10:51:46] INFO     Security checks completed: 1 warning(s), 0 error(s)
[2025-11-14 10:51:46] INFO     Initializing backup orchestrator...
[2025-11-14 10:51:46] INFO     ✓ Orchestrator initialized
[2025-11-14 10:51:46] INFO     Verifying directory structure...
[2025-11-14 10:51:46] INFO     ✓ Backup directory exists: /opt/proxmox-backup-go/backup-test
[2025-11-14 10:51:46] INFO     ✓ Log directory exists: /opt/proxmox-backup-go/log-test
[2025-11-14 10:51:46] INFO     ✓ Secondary log directory exists: /opt/secondary-backup-go/log-secondary-test
[2025-11-14 10:51:46] INFO     ✓ Lock directory exists: /opt/proxmox-backup-go/lock
[2025-11-14 10:51:46] DEBUG    Configuring pre-backup validation checks...
[2025-11-14 10:51:46] DEBUG    ✓ Pre-backup checks configured
[2025-11-14 10:51:46] INFO     Initializing storage backends...
[2025-11-14 10:51:46] DEBUG    Path: /opt/proxmox-backup-go/backup-test -> Filesystem: ext4 (supports ownership) [mount: /]
[2025-11-14 10:51:46] INFO     Path Primary: /opt/proxmox-backup-go/backup-test -> Filesystem: ext4 (supports ownership) [mount: /]
[2025-11-14 10:51:46] INFO     ✓ Local storage initialized (present 7 backups, retention 7 backups)
[2025-11-14 10:51:46] DEBUG    Path: /opt/secondary-backup-go/backup-secondary-test -> Filesystem: ext4 (supports ownership) [mount: /]
[2025-11-14 10:51:46] INFO     Path Secondary: /opt/secondary-backup-go/backup-secondary-test -> Filesystem: ext4 (supports ownership) [mount: /]
[2025-11-14 10:51:46] INFO     ✓ Secondary storage initialized (present 10 backups, retention 14 backups)
[2025-11-14 10:51:46] INFO     Path Cloud: disabled
[2025-11-14 10:51:46] INFO     Initializing notification channels...
[2025-11-14 10:51:46] INFO     ✓ Telegram notifications initialized (mode: centralized)
[2025-11-14 10:51:46] INFO     ✓ Email notifications initialized (method: relay)
[2025-11-14 10:51:46] INFO     Webhook notifications: disabled
[2025-11-14 10:51:46] INFO     Validating bash script environment...
[2025-11-14 10:51:46] INFO     ✓ Bash scripts directory exists: /opt/proxmox-backup/script
[2025-11-14 10:51:46] INFO     Storage configuration:
[2025-11-14 10:51:46] INFO       Primary: /opt/proxmox-backup-go/backup-test [ext4]
[2025-11-14 10:51:46] INFO       Secondary storage: /opt/secondary-backup-go/backup-secondary-test [ext4]
[2025-11-14 10:51:46] INFO       Cloud storage: disabled
[2025-11-14 10:51:46] INFO     Log configuration:
[2025-11-14 10:51:46] INFO       Primary: /opt/proxmox-backup-go/log-test
[2025-11-14 10:51:46] INFO       Secondary: /opt/secondary-backup-go/log-secondary-test
[2025-11-14 10:51:46] INFO       Cloud: disabled
[2025-11-14 10:51:46] INFO     Notification configuration:
[2025-11-14 10:51:46] INFO       Telegram: true
[2025-11-14 10:51:46] INFO       Email: true
